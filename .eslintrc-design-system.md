# ESLint Design System Configuration

## Recommended Setup

While ESLint doesn't have a built-in rule to prevent hardcoded Tailwind colors, we can use the `eslint-plugin-tailwindcss` plugin to enforce best practices.

### Installation

```bash
npm install -D eslint-plugin-tailwindcss
```

### Configuration

Add to your `eslint.config.js`:

```javascript
import tailwindcss from 'eslint-plugin-tailwindcss'

export default [
  // ...existing config
  {
    plugins: {
      tailwindcss
    },
    rules: {
      // Enforce consistent Tailwind class usage
      'tailwindcss/classnames-order': 'warn',
      'tailwindcss/no-custom-classname': 'warn',
      'tailwindcss/no-contradicting-classname': 'error',
    }
  }
]
```

## Manual Code Review Checklist

Since we can't automatically detect hardcoded colors in class strings, use this checklist during code review:

### Text Color Violations
```bash
# Search for hardcoded text colors
grep -r "text-gray-" src/
grep -r "text-white" src/
grep -r "text-black" src/
```

### Background Color Violations
```bash
# Search for hardcoded backgrounds
grep -r "bg-white" src/
grep -r "bg-gray-" src/
```

### Border Color Violations
```bash
# Search for hardcoded borders
grep -r "border-gray-" src/
grep -r "border-white" src/
```

## Pre-commit Hook

Add to `.husky/pre-commit` (if using Husky):

```bash
#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Check for design system violations
violations=$(grep -r "text-gray-\|text-white\|text-black\|bg-white\|bg-gray-\|border-gray-" src/ --include="*.tsx" --include="*.ts" | wc -l)

if [ "$violations" -gt 0 ]; then
  echo "❌ Design system violations found!"
  echo "Found $violations instances of hardcoded colors."
  echo "Please use semantic design tokens instead."
  echo "See DESIGN_SYSTEM.md for guidelines."
  exit 1
fi
```

## VS Code Integration

Add to `.vscode/settings.json`:

```json
{
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "eslint.validate": [
    "javascript",
    "javascriptreact",
    "typescript",
    "typescriptreact"
  ],
  "tailwindCSS.experimental.classRegex": [
    ["cva\\\\(([^)]*)\\\\)\\", "[\\\"'`]([^\\\"'`]*).*?[\\\"'`]"],
    ["cn\\\\(([^)]*)\\\\)\\", "(?:'|\\\"|`)([^']*)(?:'|\\\"|`)"]
  ]
}
```

## Automated Checks in CI/CD

Add to `.github/workflows/pr-check.yml`:

```yaml
name: PR Check

on:
  pull_request:
    branches: [main]

jobs:
  design-system-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Check for design system violations
        run: |
          violations=$(grep -r "text-gray-\|text-white\|text-black\|bg-white\|bg-gray-\|border-gray-" src/ --include="*.tsx" --include="*.ts" | wc -l)
          
          if [ "$violations" -gt 0 ]; then
            echo "❌ Found $violations design system violations"
            grep -r "text-gray-\|text-white\|text-black\|bg-white\|bg-gray-\|border-gray-" src/ --include="*.tsx" --include="*.ts"
            exit 1
          fi
          
          echo "✅ No design system violations found"
```

## Alternative: Custom ESLint Plugin

For more sophisticated detection, you could create a custom ESLint plugin, but this requires significant setup. The above approaches are recommended for most projects.
